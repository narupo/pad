{@

def case1():
    puts("Test stmt/forstmt case1")

    struct Node:
        next = nil
    end
    
    head = Node(Node(Node()))

    for cur = head; cur; cur = cur.next:
        assert(type(cur) == "object")  // TODO: Error!
    end
end

def case2():
    puts("Test stmt/forstmt case1")

    struct Node:
        next = nil
    end
    
    head = Node(Node(Node()))

    for cur = head; ; cur = cur.next:
        if cur == nil:
            break
        end
        assert(type(cur) == "object")  // TODO: Error!
    end
end

def allTest():
    puts("Test stmt/forstmt (all)")
    case1()
    case2()
end

def main(name):
    if name == "case1":
        case1()
    elif name == "case2":
        case2()
    else:
        allTest()
    end

    puts("Done")
end

@}
